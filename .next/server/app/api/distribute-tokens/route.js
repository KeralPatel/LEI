"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/distribute-tokens/route";
exports.ids = ["app/api/distribute-tokens/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:crypto");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdistribute-tokens%2Froute&page=%2Fapi%2Fdistribute-tokens%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdistribute-tokens%2Froute.ts&appDir=D%3A%5CWork%5CKnightVault%5Ctoken-distribution-backend%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CWork%5CKnightVault%5Ctoken-distribution-backend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdistribute-tokens%2Froute&page=%2Fapi%2Fdistribute-tokens%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdistribute-tokens%2Froute.ts&appDir=D%3A%5CWork%5CKnightVault%5Ctoken-distribution-backend%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CWork%5CKnightVault%5Ctoken-distribution-backend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var D_Work_KnightVault_token_distribution_backend_app_api_distribute_tokens_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/distribute-tokens/route.ts */ \"(rsc)/./app/api/distribute-tokens/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/distribute-tokens/route\",\n        pathname: \"/api/distribute-tokens\",\n        filename: \"route\",\n        bundlePath: \"app/api/distribute-tokens/route\"\n    },\n    resolvedPagePath: \"D:\\\\Work\\\\KnightVault\\\\token-distribution-backend\\\\app\\\\api\\\\distribute-tokens\\\\route.ts\",\n    nextConfigOutput,\n    userland: D_Work_KnightVault_token_distribution_backend_app_api_distribute_tokens_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/distribute-tokens/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZkaXN0cmlidXRlLXRva2VucyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGZGlzdHJpYnV0ZS10b2tlbnMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZkaXN0cmlidXRlLXRva2VucyUyRnJvdXRlLnRzJmFwcERpcj1EJTNBJTVDV29yayU1Q0tuaWdodFZhdWx0JTVDdG9rZW4tZGlzdHJpYnV0aW9uLWJhY2tlbmQlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUQlM0ElNUNXb3JrJTVDS25pZ2h0VmF1bHQlNUN0b2tlbi1kaXN0cmlidXRpb24tYmFja2VuZCZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUN3QztBQUNySDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVHQUF1RztBQUMvRztBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQzZKOztBQUU3SiIsInNvdXJjZXMiOlsid2VicGFjazovL3Rva2VuLWRpc3RyaWJ1dGlvbi1mcm9udGVuZC8/Yjc3NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJEOlxcXFxXb3JrXFxcXEtuaWdodFZhdWx0XFxcXHRva2VuLWRpc3RyaWJ1dGlvbi1iYWNrZW5kXFxcXGFwcFxcXFxhcGlcXFxcZGlzdHJpYnV0ZS10b2tlbnNcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2Rpc3RyaWJ1dGUtdG9rZW5zL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvZGlzdHJpYnV0ZS10b2tlbnNcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2Rpc3RyaWJ1dGUtdG9rZW5zL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiRDpcXFxcV29ya1xcXFxLbmlnaHRWYXVsdFxcXFx0b2tlbi1kaXN0cmlidXRpb24tYmFja2VuZFxcXFxhcHBcXFxcYXBpXFxcXGRpc3RyaWJ1dGUtdG9rZW5zXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2Rpc3RyaWJ1dGUtdG9rZW5zL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCwgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdistribute-tokens%2Froute&page=%2Fapi%2Fdistribute-tokens%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdistribute-tokens%2Froute.ts&appDir=D%3A%5CWork%5CKnightVault%5Ctoken-distribution-backend%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CWork%5CKnightVault%5Ctoken-distribution-backend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/distribute-tokens/route.ts":
/*!********************************************!*\
  !*** ./app/api/distribute-tokens/route.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _lib_tokenService__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/tokenService */ \"(rsc)/./lib/tokenService.ts\");\n\n\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        const { name, email, id, walletAddress, hrsWorked } = body;\n        if (!name || !email || !id || !walletAddress || !hrsWorked) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                success: false,\n                error: \"Missing required fields: name, email, id, walletAddress, hrsWorked\"\n            }, {\n                status: 400\n            });\n        }\n        const hours = parseFloat(hrsWorked);\n        if (isNaN(hours) || hours <= 0) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                success: false,\n                error: \"Invalid hours worked. Must be a positive number.\"\n            }, {\n                status: 400\n            });\n        }\n        const tokensToDistribute = Math.floor(hours);\n        console.log(`Distributing ${tokensToDistribute} tokens to ${walletAddress} for ${hours} hours worked`);\n        const transactionResult = await (0,_lib_tokenService__WEBPACK_IMPORTED_MODULE_1__.distributeTokens)(walletAddress, tokensToDistribute, {\n            name,\n            email,\n            id,\n            hrsWorked: hours\n        });\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: true,\n            message: \"Tokens distributed successfully\",\n            data: {\n                recipient: {\n                    name,\n                    email,\n                    id,\n                    walletAddress\n                },\n                distribution: {\n                    hoursWorked: hours,\n                    tokensDistributed: tokensToDistribute,\n                    rate: \"1 token per hour\"\n                },\n                transaction: transactionResult\n            }\n        });\n    } catch (error) {\n        console.error(\"Token distribution error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: false,\n            error: \"Failed to distribute tokens\",\n            details: error.message\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2Rpc3RyaWJ1dGUtdG9rZW5zL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF1RDtBQUNGO0FBRTlDLGVBQWVFLEtBQUtDLE9BQW9CO0lBQzdDLElBQUk7UUFDRixNQUFNQyxPQUFPLE1BQU1ELFFBQVFFLElBQUk7UUFDL0IsTUFBTSxFQUFFQyxJQUFJLEVBQUVDLEtBQUssRUFBRUMsRUFBRSxFQUFFQyxhQUFhLEVBQUVDLFNBQVMsRUFBRSxHQUFHTjtRQUV0RCxJQUFJLENBQUNFLFFBQVEsQ0FBQ0MsU0FBUyxDQUFDQyxNQUFNLENBQUNDLGlCQUFpQixDQUFDQyxXQUFXO1lBQzFELE9BQU9WLGtGQUFZQSxDQUFDSyxJQUFJLENBQUM7Z0JBQ3ZCTSxTQUFTO2dCQUNUQyxPQUFPO1lBQ1QsR0FBRztnQkFBRUMsUUFBUTtZQUFJO1FBQ25CO1FBRUEsTUFBTUMsUUFBUUMsV0FBV0w7UUFDekIsSUFBSU0sTUFBTUYsVUFBVUEsU0FBUyxHQUFHO1lBQzlCLE9BQU9kLGtGQUFZQSxDQUFDSyxJQUFJLENBQUM7Z0JBQ3ZCTSxTQUFTO2dCQUNUQyxPQUFPO1lBQ1QsR0FBRztnQkFBRUMsUUFBUTtZQUFJO1FBQ25CO1FBRUEsTUFBTUkscUJBQXFCQyxLQUFLQyxLQUFLLENBQUNMO1FBRXRDTSxRQUFRQyxHQUFHLENBQUMsQ0FBQyxhQUFhLEVBQUVKLG1CQUFtQixXQUFXLEVBQUVSLGNBQWMsS0FBSyxFQUFFSyxNQUFNLGFBQWEsQ0FBQztRQUNyRyxNQUFNUSxvQkFBb0IsTUFBTXJCLG1FQUFnQkEsQ0FBQ1EsZUFBZVEsb0JBQW9CO1lBQ2xGWDtZQUNBQztZQUNBQztZQUNBRSxXQUFXSTtRQUNiO1FBRUEsT0FBT2Qsa0ZBQVlBLENBQUNLLElBQUksQ0FBQztZQUN2Qk0sU0FBUztZQUNUWSxTQUFTO1lBQ1RDLE1BQU07Z0JBQ0pDLFdBQVc7b0JBQ1RuQjtvQkFDQUM7b0JBQ0FDO29CQUNBQztnQkFDRjtnQkFDQWlCLGNBQWM7b0JBQ1pDLGFBQWFiO29CQUNiYyxtQkFBbUJYO29CQUNuQlksTUFBTTtnQkFDUjtnQkFDQUMsYUFBYVI7WUFDZjtRQUNGO0lBRUYsRUFBRSxPQUFPVixPQUFZO1FBQ25CUSxRQUFRUixLQUFLLENBQUMsNkJBQTZCQTtRQUMzQyxPQUFPWixrRkFBWUEsQ0FBQ0ssSUFBSSxDQUFDO1lBQ3ZCTSxTQUFTO1lBQ1RDLE9BQU87WUFDUG1CLFNBQVNuQixNQUFNVyxPQUFPO1FBQ3hCLEdBQUc7WUFBRVYsUUFBUTtRQUFJO0lBQ25CO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2tlbi1kaXN0cmlidXRpb24tZnJvbnRlbmQvLi9hcHAvYXBpL2Rpc3RyaWJ1dGUtdG9rZW5zL3JvdXRlLnRzPzUxMGMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJ1xyXG5pbXBvcnQgeyBkaXN0cmlidXRlVG9rZW5zIH0gZnJvbSAnQC9saWIvdG9rZW5TZXJ2aWNlJ1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpXHJcbiAgICBjb25zdCB7IG5hbWUsIGVtYWlsLCBpZCwgd2FsbGV0QWRkcmVzcywgaHJzV29ya2VkIH0gPSBib2R5XHJcblxyXG4gICAgaWYgKCFuYW1lIHx8ICFlbWFpbCB8fCAhaWQgfHwgIXdhbGxldEFkZHJlc3MgfHwgIWhyc1dvcmtlZCkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgIGVycm9yOiAnTWlzc2luZyByZXF1aXJlZCBmaWVsZHM6IG5hbWUsIGVtYWlsLCBpZCwgd2FsbGV0QWRkcmVzcywgaHJzV29ya2VkJ1xyXG4gICAgICB9LCB7IHN0YXR1czogNDAwIH0pXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgaG91cnMgPSBwYXJzZUZsb2F0KGhyc1dvcmtlZClcclxuICAgIGlmIChpc05hTihob3VycykgfHwgaG91cnMgPD0gMCkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgIGVycm9yOiAnSW52YWxpZCBob3VycyB3b3JrZWQuIE11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXIuJ1xyXG4gICAgICB9LCB7IHN0YXR1czogNDAwIH0pXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdG9rZW5zVG9EaXN0cmlidXRlID0gTWF0aC5mbG9vcihob3VycylcclxuXHJcbiAgICBjb25zb2xlLmxvZyhgRGlzdHJpYnV0aW5nICR7dG9rZW5zVG9EaXN0cmlidXRlfSB0b2tlbnMgdG8gJHt3YWxsZXRBZGRyZXNzfSBmb3IgJHtob3Vyc30gaG91cnMgd29ya2VkYClcclxuICAgIGNvbnN0IHRyYW5zYWN0aW9uUmVzdWx0ID0gYXdhaXQgZGlzdHJpYnV0ZVRva2Vucyh3YWxsZXRBZGRyZXNzLCB0b2tlbnNUb0Rpc3RyaWJ1dGUsIHtcclxuICAgICAgbmFtZSxcclxuICAgICAgZW1haWwsXHJcbiAgICAgIGlkLFxyXG4gICAgICBocnNXb3JrZWQ6IGhvdXJzXHJcbiAgICB9KVxyXG5cclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIG1lc3NhZ2U6ICdUb2tlbnMgZGlzdHJpYnV0ZWQgc3VjY2Vzc2Z1bGx5JyxcclxuICAgICAgZGF0YToge1xyXG4gICAgICAgIHJlY2lwaWVudDoge1xyXG4gICAgICAgICAgbmFtZSxcclxuICAgICAgICAgIGVtYWlsLFxyXG4gICAgICAgICAgaWQsXHJcbiAgICAgICAgICB3YWxsZXRBZGRyZXNzXHJcbiAgICAgICAgfSxcclxuICAgICAgICBkaXN0cmlidXRpb246IHtcclxuICAgICAgICAgIGhvdXJzV29ya2VkOiBob3VycyxcclxuICAgICAgICAgIHRva2Vuc0Rpc3RyaWJ1dGVkOiB0b2tlbnNUb0Rpc3RyaWJ1dGUsXHJcbiAgICAgICAgICByYXRlOiAnMSB0b2tlbiBwZXIgaG91cidcclxuICAgICAgICB9LFxyXG4gICAgICAgIHRyYW5zYWN0aW9uOiB0cmFuc2FjdGlvblJlc3VsdFxyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdUb2tlbiBkaXN0cmlidXRpb24gZXJyb3I6JywgZXJyb3IpXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgZXJyb3I6ICdGYWlsZWQgdG8gZGlzdHJpYnV0ZSB0b2tlbnMnLFxyXG4gICAgICBkZXRhaWxzOiBlcnJvci5tZXNzYWdlXHJcbiAgICB9LCB7IHN0YXR1czogNTAwIH0pXHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJkaXN0cmlidXRlVG9rZW5zIiwiUE9TVCIsInJlcXVlc3QiLCJib2R5IiwianNvbiIsIm5hbWUiLCJlbWFpbCIsImlkIiwid2FsbGV0QWRkcmVzcyIsImhyc1dvcmtlZCIsInN1Y2Nlc3MiLCJlcnJvciIsInN0YXR1cyIsImhvdXJzIiwicGFyc2VGbG9hdCIsImlzTmFOIiwidG9rZW5zVG9EaXN0cmlidXRlIiwiTWF0aCIsImZsb29yIiwiY29uc29sZSIsImxvZyIsInRyYW5zYWN0aW9uUmVzdWx0IiwibWVzc2FnZSIsImRhdGEiLCJyZWNpcGllbnQiLCJkaXN0cmlidXRpb24iLCJob3Vyc1dvcmtlZCIsInRva2Vuc0Rpc3RyaWJ1dGVkIiwicmF0ZSIsInRyYW5zYWN0aW9uIiwiZGV0YWlscyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/distribute-tokens/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/tokenService.ts":
/*!*****************************!*\
  !*** ./lib/tokenService.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TokenService: () => (/* binding */ TokenService),\n/* harmony export */   distributeTokens: () => (/* binding */ distributeTokens),\n/* harmony export */   getTokenService: () => (/* binding */ getTokenService)\n/* harmony export */ });\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ethers */ \"(rsc)/./node_modules/ethers/lib.esm/providers/provider-jsonrpc.js\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ethers */ \"(rsc)/./node_modules/ethers/lib.esm/wallet/wallet.js\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ethers */ \"(rsc)/./node_modules/ethers/lib.esm/contract/contract.js\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ethers */ \"(rsc)/./node_modules/ethers/lib.esm/address/checks.js\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ethers */ \"(rsc)/./node_modules/ethers/lib.esm/utils/units.js\");\n\nconst ERC20_ABI = [\n    \"function transfer(address to, uint256 amount) returns (bool)\",\n    \"function balanceOf(address account) view returns (uint256)\",\n    \"function decimals() view returns (uint8)\",\n    \"function symbol() view returns (string)\",\n    \"function name() view returns (string)\"\n];\nclass TokenService {\n    constructor(){\n        this.rpcUrl = process.env.RPC_URL || \"https://mainnet-rpc.kxcoscan.com\";\n        this.chainId = process.env.CHAIN_ID || \"8060\";\n        this.privateKey = process.env.PRIVATE_KEY || \"\";\n        this.tokenContractAddress = process.env.TOKEN_CONTRACT_ADDRESS || \"\";\n        if (!this.privateKey) {\n            throw new Error(\"PRIVATE_KEY environment variable is required\");\n        }\n        if (!this.tokenContractAddress) {\n            throw new Error(\"TOKEN_CONTRACT_ADDRESS environment variable is required\");\n        }\n        this.provider = new ethers__WEBPACK_IMPORTED_MODULE_0__.JsonRpcProvider(this.rpcUrl);\n        this.wallet = new ethers__WEBPACK_IMPORTED_MODULE_1__.Wallet(this.privateKey, this.provider);\n        this.tokenContract = new ethers__WEBPACK_IMPORTED_MODULE_2__.Contract(this.tokenContractAddress, ERC20_ABI, this.wallet);\n    }\n    async distributeTokens(recipientAddress, amount, metadata = {}) {\n        try {\n            console.log(`Starting token distribution to ${recipientAddress} for ${amount} tokens`);\n            if (!ethers__WEBPACK_IMPORTED_MODULE_3__.isAddress(recipientAddress)) {\n                throw new Error(\"Invalid recipient wallet address\");\n            }\n            const decimals = await this.tokenContract.decimals();\n            const tokenAmount = ethers__WEBPACK_IMPORTED_MODULE_4__.parseUnits(amount.toString(), decimals);\n            const balance = await this.tokenContract.balanceOf(this.wallet.address);\n            if (balance < tokenAmount) {\n                throw new Error(`Insufficient token balance. Required: ${amount}, Available: ${ethers__WEBPACK_IMPORTED_MODULE_4__.formatUnits(balance, decimals)}`);\n            }\n            const gasEstimate = await this.tokenContract.transfer.estimateGas(recipientAddress, tokenAmount);\n            const feeData = await this.provider.getFeeData();\n            const gasLimit = gasEstimate * 120n / 100n;\n            console.log(`Gas estimate: ${gasEstimate}, Gas limit: ${gasLimit}, Gas price: ${feeData.gasPrice}`);\n            const tx = await this.tokenContract.transfer(recipientAddress, tokenAmount, {\n                gasLimit: gasLimit,\n                gasPrice: feeData.gasPrice\n            });\n            console.log(`Transaction sent: ${tx.hash}`);\n            const receipt = await tx.wait();\n            console.log(`Transaction confirmed in block: ${receipt.blockNumber}`);\n            const explorerUrl = `https://kxcoscan.com/tx/${tx.hash}`;\n            return {\n                transactionHash: tx.hash,\n                blockNumber: receipt.blockNumber,\n                gasUsed: receipt.gasUsed.toString(),\n                gasPrice: feeData.gasPrice?.toString(),\n                status: receipt.status === 1 ? \"success\" : \"failed\",\n                explorerUrl: explorerUrl,\n                recipient: recipientAddress,\n                amount: amount,\n                tokenContract: this.tokenContractAddress,\n                network: \"Knightsbridge\",\n                chainId: this.chainId,\n                timestamp: new Date().toISOString(),\n                metadata: metadata\n            };\n        } catch (error) {\n            console.error(\"Token distribution failed:\", error);\n            throw new Error(`Token distribution failed: ${error.message}`);\n        }\n    }\n    async getTokenInfo() {\n        try {\n            const [name, symbol, decimals] = await Promise.all([\n                this.tokenContract.name(),\n                this.tokenContract.symbol(),\n                this.tokenContract.decimals()\n            ]);\n            return {\n                name,\n                symbol,\n                decimals: decimals.toString(),\n                contractAddress: this.tokenContractAddress,\n                network: \"Knightsbridge\",\n                chainId: this.chainId\n            };\n        } catch (error) {\n            console.error(\"Failed to get token info:\", error);\n            throw error;\n        }\n    }\n    async getWalletBalance(address) {\n        try {\n            const balance = await this.tokenContract.balanceOf(address);\n            const decimals = await this.tokenContract.decimals();\n            return ethers__WEBPACK_IMPORTED_MODULE_4__.formatUnits(balance, decimals);\n        } catch (error) {\n            console.error(\"Failed to get wallet balance:\", error);\n            throw error;\n        }\n    }\n}\n// Create a singleton instance\nlet tokenServiceInstance = null;\nfunction getTokenService() {\n    if (!tokenServiceInstance) {\n        tokenServiceInstance = new TokenService();\n    }\n    return tokenServiceInstance;\n}\nasync function distributeTokens(recipientAddress, amount, metadata = {}) {\n    const tokenService = getTokenService();\n    return await tokenService.distributeTokens(recipientAddress, amount, metadata);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUMzQyxNQUFNQTtRQUNSO0lBQ0Y7SUFFQSxNQUFNUSxpQkFBaUIvQixPQUFlLEVBQUU7UUFDdEMsSUFBSTtZQUNGLE1BQU1GLFVBQVUsTUFBTSxJQUFJLENBQUNiLGFBQWEsQ0FBQ2MsU0FBUyxDQUFDQztZQUNuRCxNQUFNTixXQUFXLE1BQU0sSUFBSSxDQUFDVCxhQUFhLENBQUNTLFFBQVE7WUFDbEQsT0FBTzVCLCtDQUFrQixDQUFDZ0MsU0FBU0o7UUFDckMsRUFBRSxPQUFPNkIsT0FBTztZQUNkaEMsUUFBUWdDLEtBQUssQ0FBQyxpQ0FBaUNBO1lBQy9DLE1BQU1BO1FBQ1I7SUFDRjtBQUNGO0FBRUEsOEJBQThCO0FBQzlCLElBQUlTLHVCQUE0QztBQUV6QyxTQUFTQztJQUNkLElBQUksQ0FBQ0Qsc0JBQXNCO1FBQ3pCQSx1QkFBdUIsSUFBSWhFO0lBQzdCO0lBQ0EsT0FBT2dFO0FBQ1Q7QUFFTyxlQUFlN0MsaUJBQWlCQyxnQkFBd0IsRUFBRUMsTUFBYyxFQUFFQyxXQUFnQixDQUFDLENBQUM7SUFDakcsTUFBTTRDLGVBQWVEO0lBQ3JCLE9BQU8sTUFBTUMsYUFBYS9DLGdCQUFnQixDQUFDQyxrQkFBa0JDLFFBQVFDO0FBQ3ZFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9rZW4tZGlzdHJpYnV0aW9uLWZyb250ZW5kLy4vbGliL3Rva2VuU2VydmljZS50cz8zNjNmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGV0aGVycyB9IGZyb20gJ2V0aGVycydcclxuXHJcbmNvbnN0IEVSQzIwX0FCSSA9IFtcclxuICBcImZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgYW1vdW50KSByZXR1cm5zIChib29sKVwiLFxyXG4gIFwiZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgYWNjb3VudCkgdmlldyByZXR1cm5zICh1aW50MjU2KVwiLFxyXG4gIFwiZnVuY3Rpb24gZGVjaW1hbHMoKSB2aWV3IHJldHVybnMgKHVpbnQ4KVwiLFxyXG4gIFwiZnVuY3Rpb24gc3ltYm9sKCkgdmlldyByZXR1cm5zIChzdHJpbmcpXCIsXHJcbiAgXCJmdW5jdGlvbiBuYW1lKCkgdmlldyByZXR1cm5zIChzdHJpbmcpXCJcclxuXVxyXG5cclxuZXhwb3J0IGNsYXNzIFRva2VuU2VydmljZSB7XHJcbiAgcHJpdmF0ZSBycGNVcmw6IHN0cmluZ1xyXG4gIHByaXZhdGUgY2hhaW5JZDogc3RyaW5nXHJcbiAgcHJpdmF0ZSBwcml2YXRlS2V5OiBzdHJpbmdcclxuICBwcml2YXRlIHRva2VuQ29udHJhY3RBZGRyZXNzOiBzdHJpbmdcclxuICBwcml2YXRlIHByb3ZpZGVyOiBldGhlcnMuSnNvblJwY1Byb3ZpZGVyXHJcbiAgcHJpdmF0ZSB3YWxsZXQ6IGV0aGVycy5XYWxsZXRcclxuICBwcml2YXRlIHRva2VuQ29udHJhY3Q6IGV0aGVycy5Db250cmFjdFxyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMucnBjVXJsID0gcHJvY2Vzcy5lbnYuUlBDX1VSTCB8fCAnaHR0cHM6Ly9tYWlubmV0LXJwYy5reGNvc2Nhbi5jb20nXHJcbiAgICB0aGlzLmNoYWluSWQgPSBwcm9jZXNzLmVudi5DSEFJTl9JRCB8fCAnODA2MCdcclxuICAgIHRoaXMucHJpdmF0ZUtleSA9IHByb2Nlc3MuZW52LlBSSVZBVEVfS0VZIHx8ICcnXHJcbiAgICB0aGlzLnRva2VuQ29udHJhY3RBZGRyZXNzID0gcHJvY2Vzcy5lbnYuVE9LRU5fQ09OVFJBQ1RfQUREUkVTUyB8fCAnJ1xyXG4gICAgXHJcbiAgICBpZiAoIXRoaXMucHJpdmF0ZUtleSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BSSVZBVEVfS0VZIGVudmlyb25tZW50IHZhcmlhYmxlIGlzIHJlcXVpcmVkJylcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKCF0aGlzLnRva2VuQ29udHJhY3RBZGRyZXNzKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignVE9LRU5fQ09OVFJBQ1RfQUREUkVTUyBlbnZpcm9ubWVudCB2YXJpYWJsZSBpcyByZXF1aXJlZCcpXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5wcm92aWRlciA9IG5ldyBldGhlcnMuSnNvblJwY1Byb3ZpZGVyKHRoaXMucnBjVXJsKVxyXG4gICAgdGhpcy53YWxsZXQgPSBuZXcgZXRoZXJzLldhbGxldCh0aGlzLnByaXZhdGVLZXksIHRoaXMucHJvdmlkZXIpXHJcbiAgICB0aGlzLnRva2VuQ29udHJhY3QgPSBuZXcgZXRoZXJzLkNvbnRyYWN0KHRoaXMudG9rZW5Db250cmFjdEFkZHJlc3MsIEVSQzIwX0FCSSwgdGhpcy53YWxsZXQpXHJcbiAgfVxyXG5cclxuICBhc3luYyBkaXN0cmlidXRlVG9rZW5zKHJlY2lwaWVudEFkZHJlc3M6IHN0cmluZywgYW1vdW50OiBudW1iZXIsIG1ldGFkYXRhOiBhbnkgPSB7fSkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coYFN0YXJ0aW5nIHRva2VuIGRpc3RyaWJ1dGlvbiB0byAke3JlY2lwaWVudEFkZHJlc3N9IGZvciAke2Ftb3VudH0gdG9rZW5zYClcclxuXHJcbiAgICAgIGlmICghZXRoZXJzLmlzQWRkcmVzcyhyZWNpcGllbnRBZGRyZXNzKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCByZWNpcGllbnQgd2FsbGV0IGFkZHJlc3MnKVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBkZWNpbWFscyA9IGF3YWl0IHRoaXMudG9rZW5Db250cmFjdC5kZWNpbWFscygpXHJcbiAgICAgIGNvbnN0IHRva2VuQW1vdW50ID0gZXRoZXJzLnBhcnNlVW5pdHMoYW1vdW50LnRvU3RyaW5nKCksIGRlY2ltYWxzKVxyXG5cclxuICAgICAgY29uc3QgYmFsYW5jZSA9IGF3YWl0IHRoaXMudG9rZW5Db250cmFjdC5iYWxhbmNlT2YodGhpcy53YWxsZXQuYWRkcmVzcylcclxuICAgICAgaWYgKGJhbGFuY2UgPCB0b2tlbkFtb3VudCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5zdWZmaWNpZW50IHRva2VuIGJhbGFuY2UuIFJlcXVpcmVkOiAke2Ftb3VudH0sIEF2YWlsYWJsZTogJHtldGhlcnMuZm9ybWF0VW5pdHMoYmFsYW5jZSwgZGVjaW1hbHMpfWApXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGdhc0VzdGltYXRlID0gYXdhaXQgdGhpcy50b2tlbkNvbnRyYWN0LnRyYW5zZmVyLmVzdGltYXRlR2FzKHJlY2lwaWVudEFkZHJlc3MsIHRva2VuQW1vdW50KVxyXG4gICAgICBjb25zdCBmZWVEYXRhID0gYXdhaXQgdGhpcy5wcm92aWRlci5nZXRGZWVEYXRhKClcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGdhc0xpbWl0ID0gZ2FzRXN0aW1hdGUgKiAxMjBuIC8gMTAwblxyXG5cclxuICAgICAgY29uc29sZS5sb2coYEdhcyBlc3RpbWF0ZTogJHtnYXNFc3RpbWF0ZX0sIEdhcyBsaW1pdDogJHtnYXNMaW1pdH0sIEdhcyBwcmljZTogJHtmZWVEYXRhLmdhc1ByaWNlfWApXHJcblxyXG4gICAgICBjb25zdCB0eCA9IGF3YWl0IHRoaXMudG9rZW5Db250cmFjdC50cmFuc2ZlcihyZWNpcGllbnRBZGRyZXNzLCB0b2tlbkFtb3VudCwge1xyXG4gICAgICAgIGdhc0xpbWl0OiBnYXNMaW1pdCxcclxuICAgICAgICBnYXNQcmljZTogZmVlRGF0YS5nYXNQcmljZVxyXG4gICAgICB9KVxyXG5cclxuICAgICAgY29uc29sZS5sb2coYFRyYW5zYWN0aW9uIHNlbnQ6ICR7dHguaGFzaH1gKVxyXG5cclxuICAgICAgY29uc3QgcmVjZWlwdCA9IGF3YWl0IHR4LndhaXQoKVxyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2coYFRyYW5zYWN0aW9uIGNvbmZpcm1lZCBpbiBibG9jazogJHtyZWNlaXB0LmJsb2NrTnVtYmVyfWApXHJcblxyXG4gICAgICBjb25zdCBleHBsb3JlclVybCA9IGBodHRwczovL2t4Y29zY2FuLmNvbS90eC8ke3R4Lmhhc2h9YFxyXG4gICAgICBcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICB0cmFuc2FjdGlvbkhhc2g6IHR4Lmhhc2gsXHJcbiAgICAgICAgYmxvY2tOdW1iZXI6IHJlY2VpcHQuYmxvY2tOdW1iZXIsXHJcbiAgICAgICAgZ2FzVXNlZDogcmVjZWlwdC5nYXNVc2VkLnRvU3RyaW5nKCksXHJcbiAgICAgICAgZ2FzUHJpY2U6IGZlZURhdGEuZ2FzUHJpY2U/LnRvU3RyaW5nKCksXHJcbiAgICAgICAgc3RhdHVzOiByZWNlaXB0LnN0YXR1cyA9PT0gMSA/ICdzdWNjZXNzJyA6ICdmYWlsZWQnLFxyXG4gICAgICAgIGV4cGxvcmVyVXJsOiBleHBsb3JlclVybCxcclxuICAgICAgICByZWNpcGllbnQ6IHJlY2lwaWVudEFkZHJlc3MsXHJcbiAgICAgICAgYW1vdW50OiBhbW91bnQsXHJcbiAgICAgICAgdG9rZW5Db250cmFjdDogdGhpcy50b2tlbkNvbnRyYWN0QWRkcmVzcyxcclxuICAgICAgICBuZXR3b3JrOiAnS25pZ2h0c2JyaWRnZScsXHJcbiAgICAgICAgY2hhaW5JZDogdGhpcy5jaGFpbklkLFxyXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgIG1ldGFkYXRhOiBtZXRhZGF0YVxyXG4gICAgICB9XHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdUb2tlbiBkaXN0cmlidXRpb24gZmFpbGVkOicsIGVycm9yKVxyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFRva2VuIGRpc3RyaWJ1dGlvbiBmYWlsZWQ6ICR7ZXJyb3IubWVzc2FnZX1gKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgZ2V0VG9rZW5JbmZvKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgW25hbWUsIHN5bWJvbCwgZGVjaW1hbHNdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xyXG4gICAgICAgIHRoaXMudG9rZW5Db250cmFjdC5uYW1lKCksXHJcbiAgICAgICAgdGhpcy50b2tlbkNvbnRyYWN0LnN5bWJvbCgpLFxyXG4gICAgICAgIHRoaXMudG9rZW5Db250cmFjdC5kZWNpbWFscygpXHJcbiAgICAgIF0pXHJcblxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIG5hbWUsXHJcbiAgICAgICAgc3ltYm9sLFxyXG4gICAgICAgIGRlY2ltYWxzOiBkZWNpbWFscy50b1N0cmluZygpLFxyXG4gICAgICAgIGNvbnRyYWN0QWRkcmVzczogdGhpcy50b2tlbkNvbnRyYWN0QWRkcmVzcyxcclxuICAgICAgICBuZXR3b3JrOiAnS25pZ2h0c2JyaWRnZScsXHJcbiAgICAgICAgY2hhaW5JZDogdGhpcy5jaGFpbklkXHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBnZXQgdG9rZW4gaW5mbzonLCBlcnJvcilcclxuICAgICAgdGhyb3cgZXJyb3JcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGdldFdhbGxldEJhbGFuY2UoYWRkcmVzczogc3RyaW5nKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBiYWxhbmNlID0gYXdhaXQgdGhpcy50b2tlbkNvbnRyYWN0LmJhbGFuY2VPZihhZGRyZXNzKVxyXG4gICAgICBjb25zdCBkZWNpbWFscyA9IGF3YWl0IHRoaXMudG9rZW5Db250cmFjdC5kZWNpbWFscygpXHJcbiAgICAgIHJldHVybiBldGhlcnMuZm9ybWF0VW5pdHMoYmFsYW5jZSwgZGVjaW1hbHMpXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZ2V0IHdhbGxldCBiYWxhbmNlOicsIGVycm9yKVxyXG4gICAgICB0aHJvdyBlcnJvclxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLy8gQ3JlYXRlIGEgc2luZ2xldG9uIGluc3RhbmNlXHJcbmxldCB0b2tlblNlcnZpY2VJbnN0YW5jZTogVG9rZW5TZXJ2aWNlIHwgbnVsbCA9IG51bGxcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRUb2tlblNlcnZpY2UoKTogVG9rZW5TZXJ2aWNlIHtcclxuICBpZiAoIXRva2VuU2VydmljZUluc3RhbmNlKSB7XHJcbiAgICB0b2tlblNlcnZpY2VJbnN0YW5jZSA9IG5ldyBUb2tlblNlcnZpY2UoKVxyXG4gIH1cclxuICByZXR1cm4gdG9rZW5TZXJ2aWNlSW5zdGFuY2VcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRpc3RyaWJ1dGVUb2tlbnMocmVjaXBpZW50QWRkcmVzczogc3RyaW5nLCBhbW91bnQ6IG51bWJlciwgbWV0YWRhdGE6IGFueSA9IHt9KSB7XHJcbiAgY29uc3QgdG9rZW5TZXJ2aWNlID0gZ2V0VG9rZW5TZXJ2aWNlKClcclxuICByZXR1cm4gYXdhaXQgdG9rZW5TZXJ2aWNlLmRpc3RyaWJ1dGVUb2tlbnMocmVjaXBpZW50QWRkcmVzcywgYW1vdW50LCBtZXRhZGF0YSlcclxufVxyXG4iXSwibmFtZXMiOlsiZXRoZXJzIiwiRVJDMjBfQUJJIiwiVG9rZW5TZXJ2aWNlIiwiY29uc3RydWN0b3IiLCJycGNVcmwiLCJwcm9jZXNzIiwiZW52IiwiUlBDX1VSTCIsImNoYWluSWQiLCJDSEFJTl9JRCIsInByaXZhdGVLZXkiLCJQUklWQVRFX0tFWSIsInRva2VuQ29udHJhY3RBZGRyZXNzIiwiVE9LRU5fQ09OVFJBQ1RfQUREUkVTUyIsIkVycm9yIiwicHJvdmlkZXIiLCJKc29uUnBjUHJvdmlkZXIiLCJ3YWxsZXQiLCJXYWxsZXQiLCJ0b2tlbkNvbnRyYWN0IiwiQ29udHJhY3QiLCJkaXN0cmlidXRlVG9rZW5zIiwicmVjaXBpZW50QWRkcmVzcyIsImFtb3VudCIsIm1ldGFkYXRhIiwiY29uc29sZSIsImxvZyIsImlzQWRkcmVzcyIsImRlY2ltYWxzIiwidG9rZW5BbW91bnQiLCJwYXJzZVVuaXRzIiwidG9TdHJpbmciLCJiYWxhbmNlIiwiYmFsYW5jZU9mIiwiYWRkcmVzcyIsImZvcm1hdFVuaXRzIiwiZ2FzRXN0aW1hdGUiLCJ0cmFuc2ZlciIsImVzdGltYXRlR2FzIiwiZmVlRGF0YSIsImdldEZlZURhdGEiLCJnYXNMaW1pdCIsImdhc1ByaWNlIiwidHgiLCJoYXNoIiwicmVjZWlwdCIsIndhaXQiLCJibG9ja051bWJlciIsImV4cGxvcmVyVXJsIiwidHJhbnNhY3Rpb25IYXNoIiwiZ2FzVXNlZCIsInN0YXR1cyIsInJlY2lwaWVudCIsIm5ldHdvcmsiLCJ0aW1lc3RhbXAiLCJEYXRlIiwidG9JU09TdHJpbmciLCJlcnJvciIsIm1lc3NhZ2UiLCJnZXRUb2tlbkluZm8iLCJuYW1lIiwic3ltYm9sIiwiUHJvbWlzZSIsImFsbCIsImNvbnRyYWN0QWRkcmVzcyIsImdldFdhbGxldEJhbGFuY2UiLCJ0b2tlblNlcnZpY2VJbnN0YW5jZSIsImdldFRva2VuU2VydmljZSIsInRva2VuU2VydmljZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/tokenService.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/ethers","vendor-chunks/@noble","vendor-chunks/aes-js","vendor-chunks/@adraffy"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdistribute-tokens%2Froute&page=%2Fapi%2Fdistribute-tokens%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdistribute-tokens%2Froute.ts&appDir=D%3A%5CWork%5CKnightVault%5Ctoken-distribution-backend%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CWork%5CKnightVault%5Ctoken-distribution-backend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();