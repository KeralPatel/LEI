(()=>{var e={};e.id=931,e.ids=[931],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},8801:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>h,tree:()=>o});var r=s(482),a=s(9108),l=s(2563),i=s.n(l),n=s(8300),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(t,d);let o=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,751)),"D:\\Work\\KnightVault\\token-distribution-backend\\frontend\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,2917)),"D:\\Work\\KnightVault\\token-distribution-backend\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],c=["D:\\Work\\KnightVault\\token-distribution-backend\\frontend\\app\\page.tsx"],x="/page",m={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},5959:(e,t,s)=>{Promise.resolve().then(s.bind(s,9858))},8247:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2583,23)),Promise.resolve().then(s.t.bind(s,6840,23)),Promise.resolve().then(s.t.bind(s,8771,23)),Promise.resolve().then(s.t.bind(s,3225,23)),Promise.resolve().then(s.t.bind(s,9295,23)),Promise.resolve().then(s.t.bind(s,3982,23))},3849:()=>{},9858:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>T});var r=s(2295),a=s(3729),l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),n=(e,t)=>{let s=(0,a.forwardRef)(({color:s="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:d,className:o="",children:c,...x},m)=>(0,a.createElement)("svg",{ref:m,...l,width:r,height:r,stroke:s,strokeWidth:d?24*Number(n)/Number(r):n,className:["lucide",`lucide-${i(e)}`,o].join(" "),...x},[...t.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(c)?c:[c]]));return s.displayName=`${e}`,s},d=n("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),o=n("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),c=n("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),x=n("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),m=n("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]),h=n("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),u=n("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),p=n("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),b=n("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),g=n("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),j=n("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),w=n("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),y=n("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),f=n("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),N=e=>{},v=()=>null,k=()=>{},C=async e=>{try{let t=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await t.json();return s.success&&s.data?.token&&(N(s.data.token),s.data.user&&localStorage.setItem("user_data",JSON.stringify(s.data.user))),s}catch(e){return{success:!1,message:"Failed to connect to server",error:"Connection failed"}}},A=async e=>{try{let t=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await t.json();return s.success&&s.data?.token&&(N(s.data.token),s.data.user&&localStorage.setItem("user_data",JSON.stringify(s.data.user))),s}catch(e){return{success:!1,message:"Failed to connect to server",error:"Connection failed"}}},S=()=>{k()},D=()=>{let e=v();return e?{Authorization:`Bearer ${e}`}:{}},W=()=>null,P=async()=>{try{let e=localStorage.getItem("auth_token");if(!e)return{success:!1,error:"Not authenticated"};let t=await fetch("/api/wallet/balance",{method:"GET",headers:{Authorization:`Bearer ${e}`}});return await t.json()}catch(e){return{success:!1,error:"Failed to connect to server"}}},q=async()=>{try{let e=localStorage.getItem("auth_token");if(!e)return{success:!1,error:"Not authenticated"};let t=await fetch("/api/wallet/native-balance",{method:"GET",headers:{Authorization:`Bearer ${e}`}});return await t.json()}catch(e){return{success:!1,error:"Failed to connect to server"}}};function T(){let[e,t]=(0,a.useState)("single"),[s,l]=(0,a.useState)({name:"",email:"",id:"",walletAddress:"",hrsWorked:""}),[i,n]=(0,a.useState)([{name:"",email:"",id:"",wallet:"",hrsWorked:""}]),[N,k]=(0,a.useState)(!1),[T,M]=(0,a.useState)(null),[$,E]=(0,a.useState)(!1),[R,_]=(0,a.useState)(null),[F,z]=(0,a.useState)(!1),[K,L]=(0,a.useState)("login"),[H,V]=(0,a.useState)({email:"",password:""}),[I,O]=(0,a.useState)(!1),[J,B]=(0,a.useState)(""),[G,U]=(0,a.useState)(!1),[Z,X]=(0,a.useState)(!1),[Y,Q]=(0,a.useState)({type:"tokens",amount:"",toAddress:""}),[ee,et]=(0,a.useState)(!1),[es,er]=(0,a.useState)(""),[ea,el]=(0,a.useState)("0"),[ei,en]=(0,a.useState)("0"),[ed,eo]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=v(),t=W();e&&t&&(E(!0),_(t))},[]),(0,a.useEffect)(()=>{$&&ec()},[$]);let ec=async()=>{eo(!0);try{let[e,t]=await Promise.all([P(),q()]);e.success&&e.data&&el(e.data.balance),t.success&&t.data&&en(t.data.balance)}catch(e){console.error("Failed to load wallet balances:",e)}finally{eo(!1)}},ex=e=>{let{name:t,value:s}=e.target;l(e=>({...e,[t]:s}))},em=(e,t,s)=>{n(r=>r.map((r,a)=>a===e?{...r,[t]:s}:r))},eh=e=>{i.length>1&&n(t=>t.filter((t,s)=>s!==e))},eu=async e=>{e.preventDefault(),O(!0),B("");try{let e="login"===K?await C(H):await A(H);e.success?(E(!0),_(e.data?.user||null),z(!1),V({email:"",password:""}),ec()):B(e.error||"Authentication failed")}catch(e){B("Authentication failed")}finally{O(!1)}},ep=async e=>{e.preventDefault(),et(!0),er("");try{let e=D(),t=await fetch("/api/wallet/withdraw",{method:"POST",headers:{"Content-Type":"application/json",...e.Authorization&&{Authorization:e.Authorization}},body:JSON.stringify({type:Y.type,amount:Y.amount,toAddress:Y.toAddress})}),s=await t.json();s.success?(X(!1),Q({type:"tokens",amount:"",toAddress:""}),ec(),alert(`Successfully withdrew ${Y.amount} ${"tokens"===Y.type?"tokens":"KDA"} to ${Y.toAddress}`)):er(s.error||"Withdrawal failed")}catch(e){er("Failed to process withdrawal. Please try again."),console.error("Withdrawal error:",e)}finally{et(!1)}},eb=async t=>{if(t.preventDefault(),!$){z(!0);return}k(!0),M(null);try{let t;t="single"===e?{...s,hrsWorked:parseFloat(s.hrsWorked)}:{recipients:i.map(e=>({name:e.name,email:e.email,id:e.id,wallet:e.wallet,hrsWorked:parseFloat(e.hrsWorked)}))};let r=D(),a=await fetch("/api/distribute-tokens",{method:"POST",headers:{"Content-Type":"application/json",...r.Authorization&&{Authorization:r.Authorization}},body:JSON.stringify(t)}),l=await a.json();M(l),l.success&&ec()}catch(e){M({success:!1,message:"Connection failed",error:"Failed to connect to API. Make sure the backend server is running."})}finally{k(!1)}};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-900",children:[(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[r.jsx("div",{className:"mb-12",children:(0,r.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-6",children:[r.jsx("div",{className:"bg-blue-600 p-3 rounded-xl",children:r.jsx(d,{className:"h-8 w-8 text-white"})}),(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-4xl font-bold text-white",children:"Token Distribution Dashboard"}),r.jsx("p",{className:"text-xl text-gray-300 mt-2",children:"Knightsbridge Network Integration"})]})]}),r.jsx("div",{className:"flex items-center space-x-6",children:$?r.jsx(r.Fragment,{children:(0,r.jsxs)("button",{onClick:()=>{S(),E(!1),_(null),el("0"),en("0")},className:"flex items-center px-6 py-3 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-colors",children:[r.jsx(o,{className:"h-5 w-5 mr-2"}),"Logout"]})}):(0,r.jsxs)("button",{onClick:()=>z(!0),className:"flex items-center px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors",children:[r.jsx(c,{className:"h-5 w-5 mr-2"}),"Login / Register"]})})]})}),(0,r.jsxs)("div",{className:"max-w-6xl mx-auto space-y-8",children:[!$&&r.jsx("div",{className:"bg-yellow-500/20 border border-yellow-500/30 rounded-2xl p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"bg-yellow-500 p-2 rounded-full",children:r.jsx(x,{className:"h-6 w-6 text-white"})}),(0,r.jsxs)("div",{className:"ml-4",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:"Authentication Required"}),r.jsx("p",{className:"text-yellow-100 mt-1",children:"You need to login or register to distribute tokens. The system uses custodial wallets for secure token management."})]})]})}),$&&(0,r.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl border border-white/20 shadow-2xl p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-blue-600 p-2 rounded-xl",children:r.jsx(m,{className:"h-5 w-5 text-white"})}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:"Your Custodial Wallet"}),r.jsx("p",{className:"text-gray-300 text-sm",children:"Deposit tokens and native currency to this address"})]})]}),(0,r.jsxs)("button",{onClick:ec,disabled:ed,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors disabled:opacity-50",children:[r.jsx("div",{className:`h-4 w-4 mr-2 ${ed?"animate-spin":""}`,children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),"Refresh"]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"bg-white/5 rounded-xl p-4 border border-white/10",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Wallet Address"}),r.jsx("button",{onClick:()=>{R?.custodialWallet.address&&(navigator.clipboard.writeText(R.custodialWallet.address),U(!0),setTimeout(()=>U(!1),2e3))},className:"text-blue-400 hover:text-blue-300 text-sm transition-colors",children:"Copy"})]}),r.jsx("div",{className:"font-mono text-sm text-white break-all bg-black/20 p-2 rounded-lg",children:R?.custodialWallet.address||"Loading..."})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"bg-white/5 rounded-xl p-4 border border-white/10",children:[r.jsx("div",{className:"text-sm text-gray-300 mb-1",children:"Token Balance"}),r.jsx("div",{className:"text-2xl font-bold text-white",children:ed?(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Loading..."]}):`${ea} tokens`})]}),(0,r.jsxs)("div",{className:"bg-white/5 rounded-xl p-4 border border-white/10",children:[r.jsx("div",{className:"text-sm text-gray-300 mb-1",children:"Native Balance (KDA)"}),r.jsx("div",{className:"text-2xl font-bold text-white",children:ed?(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Loading..."]}):`${ei} KDA`})]})]}),(0,r.jsxs)("div",{className:"bg-white/5 rounded-xl p-4 border border-white/10",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h4",{className:"text-white font-semibold",children:"Withdraw Funds"}),r.jsx("button",{onClick:()=>X(!0),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm",children:"Withdraw"})]}),r.jsx("div",{className:"text-sm text-gray-300",children:"Withdraw tokens or native KDA from your custodial wallet to an external address"})]}),(0,r.jsxs)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-xl p-4",children:[r.jsx("h4",{className:"text-white font-semibold mb-2",children:"How to Deposit"}),(0,r.jsxs)("div",{className:"text-sm text-blue-100 space-y-1",children:[(0,r.jsxs)("p",{children:["• ",r.jsx("strong",{children:"Tokens:"})," Send your tokens to the wallet address above"]}),(0,r.jsxs)("p",{children:["• ",r.jsx("strong",{children:"Native KDA:"})," Send KDA to the same address for transaction fees"]}),(0,r.jsxs)("p",{children:["• ",r.jsx("strong",{children:"Network:"})," Make sure you're using the Knightsbridge network"]}),(0,r.jsxs)("p",{children:["• ",r.jsx("strong",{children:"Refresh:"})," Click the refresh button to update your balance"]})]})]})]})]}),(0,r.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl border border-white/20 shadow-2xl p-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"bg-blue-600 p-3 rounded-xl",children:r.jsx(h,{className:"h-6 w-6 text-white"})}),(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-white",children:"Distribute Tokens"}),r.jsx("p",{className:"text-gray-300 mt-1",children:"Send tokens to recipients securely"})]})]}),$&&r.jsx("div",{className:"bg-green-500/20 backdrop-blur-sm border border-green-500/30 rounded-xl px-4 py-2",children:(0,r.jsxs)("div",{className:"flex items-center text-green-300",children:[r.jsx(u,{className:"h-4 w-4 mr-2"}),r.jsx("span",{className:"font-medium",children:"Authenticated"})]})})]}),r.jsx("div",{className:"mb-8",children:(0,r.jsxs)("div",{className:"flex space-x-4",children:[r.jsx("button",{type:"button",onClick:()=>t("single"),className:`px-6 py-3 rounded-xl font-medium transition-colors ${"single"===e?"bg-blue-600 text-white":"bg-white/10 text-gray-300 hover:bg-white/20 border border-white/20"}`,children:"Single Recipient"}),(0,r.jsxs)("button",{type:"button",onClick:()=>t("bulk"),className:`px-6 py-3 rounded-xl font-medium transition-colors ${"bulk"===e?"bg-blue-600 text-white":"bg-white/10 text-gray-300 hover:bg-white/20 border border-white/20"}`,children:[r.jsx(p,{className:"h-4 w-4 inline mr-2"}),"Multiple Recipients"]})]})}),(0,r.jsxs)("form",{onSubmit:eb,className:"space-y-4",children:["single"===e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Name *"}),r.jsx("input",{type:"text",name:"name",value:s.name,onChange:ex,required:!0,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-white placeholder-gray-400 backdrop-blur-sm transition-all duration-200",placeholder:"John Doe"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email *"}),r.jsx("input",{type:"email",name:"email",value:s.email,onChange:ex,required:!0,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-white placeholder-gray-400 backdrop-blur-sm transition-all duration-200",placeholder:"john@example.com"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Employee ID *"}),r.jsx("input",{type:"text",name:"id",value:s.id,onChange:ex,required:!0,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-white placeholder-gray-400 backdrop-blur-sm transition-all duration-200",placeholder:"EMP001"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Wallet Address *"}),r.jsx("input",{type:"text",name:"walletAddress",value:s.walletAddress,onChange:ex,required:!0,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-white placeholder-gray-400 backdrop-blur-sm transition-all duration-200 font-mono text-sm",placeholder:"0x742d35Cc6634C0532925a3b8D4C9db96C4b4d8b6"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Hours Worked *"}),r.jsx("input",{type:"number",name:"hrsWorked",value:s.hrsWorked,onChange:ex,required:!0,min:"0",step:"0.1",className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-white placeholder-gray-400 backdrop-blur-sm transition-all duration-200",placeholder:"8.5"})]})]}):r.jsx(r.Fragment,{children:(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full bg-white/5 backdrop-blur-sm border border-white/20 rounded-2xl",style:{minWidth:"1200px"},children:[r.jsx("thead",{className:"bg-white/10",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider w-12",children:"#"}),r.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider w-32",children:"Name *"}),r.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider w-40",children:"Email *"}),r.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider w-24",children:"ID *"}),r.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider w-20",children:"Hours *"}),r.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider w-80",children:"Wallet Address *"}),r.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider w-16",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-white/10",children:i.map((e,t)=>(0,r.jsxs)("tr",{className:"hover:bg-white/5 transition-colors duration-200",children:[r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-white",children:t+1}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("input",{type:"text",value:e.name,onChange:e=>em(t,"name",e.target.value),required:!0,className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-white placeholder-gray-400 backdrop-blur-sm transition-all duration-200 text-sm",placeholder:"John Doe"})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("input",{type:"email",value:e.email,onChange:e=>em(t,"email",e.target.value),required:!0,className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-white placeholder-gray-400 backdrop-blur-sm transition-all duration-200 text-sm",placeholder:"john@example.com"})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("input",{type:"text",value:e.id,onChange:e=>em(t,"id",e.target.value),required:!0,className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-white placeholder-gray-400 backdrop-blur-sm transition-all duration-200 text-sm",placeholder:"EMP001"})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("input",{type:"number",value:e.hrsWorked,onChange:e=>em(t,"hrsWorked",e.target.value),required:!0,min:"0",step:"0.1",className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-white placeholder-gray-400 backdrop-blur-sm transition-all duration-200 text-sm",placeholder:"8.5"})}),r.jsx("td",{className:"px-4 py-4",children:r.jsx("input",{type:"text",value:e.wallet,onChange:e=>em(t,"wallet",e.target.value),required:!0,className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-white placeholder-gray-400 backdrop-blur-sm transition-all duration-200 font-mono text-xs",placeholder:"0x742d35Cc6634C0532925a3b8D4C9db96C4b4d8b6"})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:i.length>1&&r.jsx("button",{type:"button",onClick:()=>eh(t),className:"text-red-400 hover:text-red-300 p-2 rounded-lg hover:bg-red-500/20 transition-all duration-200",title:"Remove recipient",children:r.jsx(b,{className:"h-4 w-4"})})})]},t))})]})}),(0,r.jsxs)("button",{type:"button",onClick:()=>{n(e=>[...e,{name:"",email:"",id:"",wallet:"",hrsWorked:""}])},className:"w-full py-4 px-6 border-2 border-dashed border-white/30 rounded-xl text-gray-300 hover:border-blue-500 hover:text-blue-300 transition-all duration-200 flex items-center justify-center bg-white/5 hover:bg-white/10 backdrop-blur-sm",children:[r.jsx(g,{className:"h-5 w-5 mr-2"}),"Add Another Recipient"]})]})}),(0,r.jsxs)("div",{className:"flex space-x-4 pt-6",children:[r.jsx("button",{type:"submit",disabled:N,className:"flex-1 bg-blue-600 text-white py-4 px-6 rounded-xl hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center transition-colors",children:N?(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3"}),"Processing..."]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(h,{className:"h-5 w-5 mr-3"}),"Distribute Tokens"]})}),r.jsx("button",{type:"button",onClick:()=>{l({name:"",email:"",id:"",walletAddress:"",hrsWorked:""}),n([{name:"",email:"",id:"",wallet:"",hrsWorked:""}]),M(null)},className:"px-6 py-4 border border-white/30 text-gray-300 rounded-xl hover:bg-white/10 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors",children:"Reset"})]})]})]}),(0,r.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl border border-white/20 shadow-2xl p-8",children:[(0,r.jsxs)("div",{className:"flex items-center mb-8",children:[r.jsx("div",{className:"bg-green-600 p-3 rounded-xl",children:r.jsx(j,{className:"h-6 w-6 text-white"})}),(0,r.jsxs)("div",{className:"ml-4",children:[r.jsx("h2",{className:"text-3xl font-bold text-white",children:"Results"}),r.jsx("p",{className:"text-gray-300 mt-1",children:"Transaction outcomes and details"})]})]}),T?T.success?(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-green-500/20 border border-green-500/30 rounded-2xl p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"bg-green-500 p-2 rounded-full",children:r.jsx(j,{className:"h-5 w-5 text-white"})}),(0,r.jsxs)("div",{className:"ml-4",children:[r.jsx("span",{className:"text-white font-bold text-lg",children:"Distribution Successful!"}),r.jsx("p",{className:"text-green-100 mt-1",children:T.message})]})]})}),T.data?.recipient&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm rounded-2xl p-6 border border-white/20",children:[r.jsx("h3",{className:"font-bold text-white mb-4 text-lg",children:"Recipient"}),(0,r.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("span",{className:"font-medium text-gray-300 w-20",children:"Name:"})," ",r.jsx("span",{className:"text-white",children:T.data.recipient.name})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("span",{className:"font-medium text-gray-300 w-20",children:"Email:"})," ",r.jsx("span",{className:"text-white",children:T.data.recipient.email})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("span",{className:"font-medium text-gray-300 w-20",children:"ID:"})," ",r.jsx("span",{className:"text-white",children:T.data.recipient.id})]}),(0,r.jsxs)("div",{className:"flex items-start",children:[r.jsx(m,{className:"h-4 w-4 mr-2 mt-0.5 text-gray-300"}),r.jsx("span",{className:"font-medium text-gray-300 w-20",children:"Address:"}),r.jsx("span",{className:"ml-1 font-mono text-xs break-all text-white",children:T.data.recipient.walletAddress})]})]})]}),(0,r.jsxs)("div",{className:"bg-blue-500/20 border border-blue-500/30 rounded-2xl p-6",children:[r.jsx("h3",{className:"font-bold text-white mb-4 text-lg",children:"Distribution Details"}),(0,r.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("span",{className:"font-medium text-gray-300 w-32",children:"Hours Worked:"})," ",r.jsx("span",{className:"text-white font-mono",children:T.data.distribution?.hoursWorked})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("span",{className:"font-medium text-gray-300 w-32",children:"Tokens Distributed:"})," ",r.jsx("span",{className:"text-white font-mono",children:T.data.distribution?.tokensDistributed})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("span",{className:"font-medium text-gray-300 w-32",children:"Rate:"})," ",r.jsx("span",{className:"text-white",children:T.data.distribution?.rate})]})]})]}),T.data.transaction&&(0,r.jsxs)("div",{className:"bg-purple-500/20 border border-purple-500/30 rounded-2xl p-6",children:[r.jsx("h3",{className:"font-bold text-white mb-4 text-lg",children:"Transaction"}),(0,r.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("span",{className:"font-medium text-gray-300 w-20",children:"Status:"}),r.jsx("span",{className:`ml-2 px-3 py-1 rounded-full text-xs font-medium ${"success"===T.data.transaction.status?"bg-green-500/20 text-green-300 border border-green-500/30":"bg-red-500/20 text-red-300 border border-red-500/30"}`,children:T.data.transaction.status})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("span",{className:"font-medium text-gray-300 w-20",children:"Block:"})," ",r.jsx("span",{className:"text-white font-mono",children:T.data.transaction.blockNumber})]}),(0,r.jsxs)("div",{className:"flex items-start",children:[r.jsx("span",{className:"font-medium text-gray-300 w-20",children:"Hash:"}),r.jsx("span",{className:"ml-1 font-mono text-xs break-all text-white",children:T.data.transaction.transactionHash})]}),r.jsx("div",{className:"pt-3",children:(0,r.jsxs)("a",{href:T.data.transaction.explorerUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center bg-blue-600 text-white px-4 py-2 rounded-xl hover:bg-blue-700 transition-colors text-sm font-medium",children:[r.jsx(y,{className:"h-4 w-4 mr-2"}),"View on Explorer"]})})]})]})]}),T.data?.totalRecipients&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Distribution Summary"}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:T.data.totalRecipients}),r.jsx("div",{className:"text-gray-600",children:"Total Recipients"})]}),(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:T.data.successfulDistributions}),r.jsx("div",{className:"text-gray-600",children:"Successful"})]}),(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:T.data.failedDistributions}),r.jsx("div",{className:"text-gray-600",children:"Failed"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[r.jsx("h3",{className:"font-semibold text-white",children:"Individual Results"}),T.data.results?.map((e,t)=>r.jsxs("div",{className:`rounded-lg p-4 ${e.success?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center",children:[e.success?r.jsx(j,{className:"h-4 w-4 text-green-600 mr-2"}):r.jsx(x,{className:"h-4 w-4 text-red-600 mr-2"}),r.jsx("span",{className:"font-medium text-gray-900",children:e.recipient.name})]}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${e.success?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e.success?"Success":"Failed"})]}),r.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Email:"})," ",e.recipient.email]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"ID:"})," ",e.recipient.id]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Hours:"})," ",e.distribution.hoursWorked]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Tokens:"})," ",e.distribution.tokensDistributed]}),e.transaction&&r.jsx("div",{className:"pt-2",children:r.jsxs("a",{href:e.transaction.explorerUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-blue-600 hover:text-blue-800 text-xs",children:[r.jsx(y,{className:"h-3 w-3 mr-1"}),"View Transaction"]})}),e.error&&r.jsxs("div",{className:"text-red-600 text-xs mt-1",children:["Error: ",e.error]})]})]},t))]})]})]}):r.jsx("div",{className:"bg-red-500/20 border border-red-500/30 rounded-2xl p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"bg-red-500 p-2 rounded-full",children:r.jsx(x,{className:"h-5 w-5 text-white"})}),(0,r.jsxs)("div",{className:"ml-4",children:[r.jsx("span",{className:"text-white font-bold text-lg",children:"Distribution Failed"}),r.jsx("p",{className:"text-red-100 mt-1",children:T.error})]})]})}):r.jsx("div",{className:"text-center py-12",children:(0,r.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm p-6 rounded-2xl border border-white/20",children:[r.jsx(w,{className:"h-16 w-16 mx-auto mb-4 text-gray-300"}),r.jsx("p",{className:"text-gray-300 text-lg",children:"Submit the form to see distribution results"})]})})]})]}),F&&r.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl border border-white/20 shadow-2xl p-8 w-full max-w-md mx-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[r.jsx("h2",{className:"text-3xl font-bold text-white",children:"login"===K?"Login":"Register"}),r.jsx("button",{onClick:()=>z(!1),className:"text-gray-400 hover:text-white transition-colors p-2 rounded-lg hover:bg-white/10",children:"✕"})]}),(0,r.jsxs)("form",{onSubmit:eu,className:"space-y-6",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),r.jsx("input",{type:"email",value:H.email,onChange:e=>V(t=>({...t,email:e.target.value})),required:!0,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-white placeholder-gray-400 backdrop-blur-sm transition-all duration-200",placeholder:"your@email.com"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),r.jsx("input",{type:"password",value:H.password,onChange:e=>V(t=>({...t,password:e.target.value})),required:!0,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-white placeholder-gray-400 backdrop-blur-sm transition-all duration-200",placeholder:"••••••••"})]}),J&&r.jsx("div",{className:"bg-red-500/20 border border-red-500/30 rounded-xl p-4",children:r.jsx("p",{className:"text-red-200 text-sm",children:J})}),r.jsx("div",{className:"flex space-x-4",children:r.jsx("button",{type:"submit",disabled:I,className:"flex-1 bg-blue-600 text-white py-4 px-6 rounded-xl hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:I?"Processing...":"login"===K?"Login":"Register"})}),r.jsx("div",{className:"text-center",children:r.jsx("button",{type:"button",onClick:()=>L("login"===K?"register":"login"),className:"text-blue-300 hover:text-blue-200 text-sm transition-colors",children:"login"===K?"Don't have an account? Register":"Already have an account? Login"})})]})]})}),Z&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-gray-900 rounded-2xl border border-white/20 shadow-2xl w-full max-w-md",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:"Withdraw Funds"}),r.jsx("button",{onClick:()=>X(!1),className:"text-gray-400 hover:text-white transition-colors",children:r.jsx(f,{className:"h-6 w-6"})})]}),(0,r.jsxs)("form",{onSubmit:ep,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Withdrawal Type"}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[r.jsx("button",{type:"button",onClick:()=>Q(e=>({...e,type:"tokens"})),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${"tokens"===Y.type?"bg-blue-600 text-white":"bg-white/10 text-gray-300 hover:bg-white/20"}`,children:"Tokens"}),r.jsx("button",{type:"button",onClick:()=>Q(e=>({...e,type:"native"})),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${"native"===Y.type?"bg-blue-600 text-white":"bg-white/10 text-gray-300 hover:bg-white/20"}`,children:"Native KDA"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Amount"}),r.jsx("input",{type:"number",step:"0.000001",value:Y.amount,onChange:e=>Q(t=>({...t,amount:e.target.value})),placeholder:`Enter amount in ${"tokens"===Y.type?"tokens":"KDA"}`,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),(0,r.jsxs)("div",{className:"text-xs text-gray-400 mt-1",children:["Available: ","tokens"===Y.type?`${ea} tokens`:`${ei} KDA`]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"To Address"}),r.jsx("input",{type:"text",value:Y.toAddress,onChange:e=>Q(t=>({...t,toAddress:e.target.value})),placeholder:"Enter recipient wallet address",className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),es&&r.jsx("div",{className:"bg-red-500/20 border border-red-500/30 rounded-xl p-3",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(f,{className:"h-5 w-5 text-red-400 mr-2"}),r.jsx("span",{className:"text-red-300 text-sm",children:es})]})}),r.jsx("button",{type:"submit",disabled:ee,className:"w-full bg-red-600 text-white py-3 rounded-xl hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:ee?(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):`Withdraw ${"tokens"===Y.type?"Tokens":"KDA"}`})]})]})})})]}),G&&(0,r.jsxs)("div",{className:"fixed top-4 right-4 bg-green-600 text-white px-6 py-3 rounded-xl shadow-lg z-50 flex items-center space-x-2",children:[r.jsx(j,{className:"h-5 w-5"}),r.jsx("span",{children:"Wallet address copied to clipboard!"})]})]})}},2295:(e,t,s)=>{"use strict";e.exports=s(6372).vendored["react-ssr"].ReactJsxRuntime},2917:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n,metadata:()=>i});var r=s(5036),a=s(265),l=s.n(a);s(7272);let i={title:"Token Distribution Dashboard",description:"Test interface for token distribution on Knightsbridge network"};function n({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:l().className,children:e})})}},751:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>a,default:()=>i});let r=(0,s(6843).createProxy)(String.raw`D:\Work\KnightVault\token-distribution-backend\frontend\app\page.tsx`),{__esModule:a,$$typeof:l}=r,i=r.default},7272:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,969],()=>s(8801));module.exports=r})();